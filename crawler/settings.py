"""
Scrapy设置 - daily_arxiv项目配置
"""

# ============================================================================
# 基础设置
# ============================================================================
BOT_NAME = "daily_arxiv"
SPIDER_MODULES = ["spiders"]
NEWSPIDER_MODULE = "spiders"
ROBOTSTXT_OBEY = True

# ============================================================================
# 数据处理管道（数字越小优先级越高）
# ============================================================================
ITEM_PIPELINES = {
    "pipelines.DailyArxivPipeline": 300,           # 论文元数据保存
    # PDF下载已禁用 - 如需启用，取消下面两行注释
    # "pdf_pipeline.PDFDownloadPipeline": 400,      # PDF下载
    # "pdf_pipeline.PDFValidationPipeline": 500,    # PDF验证
}

# ============================================================================
# PDF下载配置
# ============================================================================
PDF_DOWNLOAD_TIMEOUT = 60                           # 下载超时时间（秒）
PDF_MAX_FILE_SIZE = 100 * 1024 * 1024              # 最大文件大小（100MB）

# ============================================================================
# 并发和延迟配置
# ============================================================================
DOWNLOAD_DELAY = 1                                  # 请求延迟（秒）
RANDOMIZE_DOWNLOAD_DELAY = 0.5                      # 随机延迟因子
CONCURRENT_REQUESTS = 8                             # 并发请求数
CONCURRENT_REQUESTS_PER_DOMAIN = 2                  # 每个域名的并发数

# ============================================================================
# 其他设置
# ============================================================================
TWISTED_REACTOR = "twisted.internet.asyncioreactor.AsyncioSelectorReactor"
FEED_EXPORT_ENCODING = "utf-8"
